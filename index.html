<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>Happy Birthday â¤ï¸</title>

<style>
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  background: black;
  overflow: hidden;
  font-family: 'Courier New', monospace;
}

/* CANVAS */
canvas {
  position: fixed;
  top: 0;
  left: 0;
}

/* áº¢NH */
#slideshow {
  position: absolute;
  top: 10%;
  width: 100%;
  text-align: center;
  z-index: 2;
}

#slideshow img {
  max-width: 320px;
  max-height: 460px;
  border-radius: 16px;
  box-shadow: 0 0 25px rgba(255,105,180,0.7);
  opacity: 0;
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  transition: opacity 1.5s ease-in-out;
}

/* CHá»® */
.typing {
  position: absolute;
  z-index: 3;
  top: 55%;
  width: 100%;
  text-align: center;
  color: white;
  font-size: 2rem;
  line-height: 1.7;
  white-space: pre-line;
  animation: heartbeat 1.5s infinite;
  text-shadow: 0 0 15px rgba(255,255,255,0.9);
}

/* NHá»ŠP TIM */
@keyframes heartbeat {
  0% { transform: scale(1); }
  25% { transform: scale(1.05); }
  40% { transform: scale(1); }
  60% { transform: scale(1.05); }
  100% { transform: scale(1); }
}
</style>
</head>

<body>

<!-- ğŸµ NHáº C Ná»€N -->
<audio id="bgm" loop>
  <source src="music.mp3" type="audio/mpeg">
</audio>

<canvas id="matrix"></canvas>
<canvas id="hearts"></canvas>

<div id="slideshow">
  <img src="1.jpg">
  <img src="2.jpg">
  <img src="3.jpg">
  <img src="4.jpg">
  <img src="5.jpg">
  <img src="6.jpg">
  <img src="7.jpg">
</div>

<div class="typing" id="text"></div>

<script>
/* ===== MATRIX ===== */
const canvas = document.getElementById("matrix");
const ctx = canvas.getContext("2d");
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

const letters = "01ì‚¬ë‘ìƒì¼ì¶•í•˜í•´ì•„ì´ëŸ¬ë¸Œìœ ";
const fontSize = 16;
const columns = canvas.width / fontSize;
const drops = Array(Math.floor(columns)).fill(1);

function drawMatrix() {
  ctx.fillStyle = "rgba(0, 0, 0, 0.05)";
  ctx.fillRect(0, 0, canvas.width, canvas.height);
  ctx.fillStyle = "#00ff99";
  ctx.font = fontSize + "px monospace";

  for (let i = 0; i < drops.length; i++) {
    const text = letters[Math.floor(Math.random() * letters.length)];
    ctx.fillText(text, i * fontSize, drops[i] * fontSize);
    if (drops[i] * fontSize > canvas.height && Math.random() > 0.98) drops[i] = 0;
    drops[i]++;
  }
}
setInterval(drawMatrix, 35);

/* ===== HEART FALL ===== */
const heartCanvas = document.getElementById("hearts");
const hctx = heartCanvas.getContext("2d");
heartCanvas.width = window.innerWidth;
heartCanvas.height = window.innerHeight;

const hearts = [];

function createHeart() {
  hearts.push({
    x: Math.random() * heartCanvas.width,
    y: -20,
    size: Math.random() * 14 + 8,
    speed: Math.random() * 0.6 + 0.3
  });
}

function drawHearts() {
  hctx.clearRect(0, 0, heartCanvas.width, heartCanvas.height);
  hearts.forEach((h, i) => {
    hctx.font = h.size + "px Arial";
    hctx.fillStyle = "rgba(255,105,180,0.8)";
    hctx.fillText("â¤", h.x, h.y);
    h.y += h.speed;
    if (h.y > heartCanvas.height) hearts.splice(i, 1);
  });
}

setInterval(createHeart, 450);
function animateHearts() {
  drawHearts();
  requestAnimationFrame(animateHearts);
}
animateHearts();

/* ===== SLIDESHOW ===== */
const images = document.querySelectorAll("#slideshow img");
let current = 0;
images[0].style.opacity = 1;

setInterval(() => {
  images[current].style.opacity = 0;
  current = (current + 1) % images.length;
  images[current].style.opacity = 1;
}, 3000);

/* ===== TYPING ===== */
const message = `ì‚¬ë‘í•˜ëŠ” ì‚¬ëŒì—ê²Œ,
ìƒì¼ ì¶•í•˜í•´.
ë‚˜ë¥¼ ì •ë§ ë§ì´ ì‚¬ë‘í•´ì•¼ í•´.
ë§¤ì¼ë§¤ì¼ í–‰ë³µí•˜ê¸¸ ë°”ë„ê²Œ.
ì‚¬ë‘í•´.`;

let index = 0;
function typeText() {
  if (index < message.length) {
    document.getElementById("text").innerHTML += message.charAt(index);
    index++;
    setTimeout(typeText, 500);
  }
}
typeText();

/* ğŸµ Báº¬T NHáº C KHI CLICK Láº¦N Äáº¦U */
document.body.addEventListener("click", () => {
  const music = document.getElementById("bgm");
  music.volume = 0.4;
  music.play();
});

/* RESIZE */
window.onresize = () => {
  canvas.width = heartCanvas.width = window.innerWidth;
  canvas.height = heartCanvas.height = window.innerHeight;
};
</script>

</body>
</html>
